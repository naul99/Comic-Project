<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Madara Child X Theme &#8211; Build manga and novel reading site in minutes</title>
    <meta name='robots' content='max-image-preview:large' />
    <meta property="og:image" content="/wp-content/themes/madara/images/logo.png" />
    <meta property="og:site_name" content="Madara Child X Theme" />
    <meta property="fb:app_id" content="" />
    <meta property="og:title" content="Madara Child X Theme" />
    <meta property="og:description" content="Build manga and novel reading site in minutes" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@Madara Child X Theme" />
    <meta name="twitter:title" content="Madara Child X Theme" />
    <meta name="twitter:description" content="Build manga and novel reading site in minutes" />
    <meta name="twitter:image" content="/wp-content/themes/madara/images/logo.png" />
    <meta name="description" content="Build manga and novel reading site in minutes" />
    <meta name="generator" content="Powered by Madara - A powerful manga, novel theme from Mangabooth.com" />

    <!--Start CSS-->
    <style id='wp-emoji-styles-inline-css' type='text/css'>
        img.wp-smiley,
        img.emoji {
            display: inline !important;
            border: none !important;
            box-shadow: none !important;
            height: 1em !important;
            width: 1em !important;
            margin: 0 0.07em !important;
            vertical-align: -0.1em !important;
            background: none !important;
            padding: 0 !important;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel='stylesheet' id='wp-block-library-css' href='/wp-includes/css/dist/block-library/style.min.css'
        type='text/css' media='all' />
    <link rel='stylesheet' id='ct-shortcode-css'
        href='/wp-content/plugins/madara-shortcodes/shortcodes/css/shortcodes.css' type='text/css' media='all' />
    <link rel='stylesheet' id='chapter-coin-css-css'
        href='/wp-content/plugins/wp-manga-chapter-coin/assets/css/chapter-coin.css' type='text/css' media='all' /> 

    <link rel='stylesheet' id='wp-manga-chapter-thumbnail-css'
        href='/wp-content/plugins/wp-manga-chapter-thumbnail/assets/css/chapter_thumbnail.css' type='text/css'
        media='all' /> 
    <link rel='stylesheet' id='bootstrap-css' href='/wp-content/themes/madara/css/bootstrap.min.css' type='text/css'
        media='all' />
    <link rel='stylesheet' id='slick-css' href='/wp-content/themes/madara/js/slick/slick.css' type='text/css'
        media='all' />
    <link rel='stylesheet' id='slick-theme-css' href='/wp-content/themes/madara/js/slick/slick-theme.css'
        type='text/css' media='all' />
    <link rel='stylesheet' id='madara-css-child-css' href='/wp-content/themes/madara/style.css' type='text/css'
        media='all' />
    <link rel='stylesheet' id='lightbox-css' href='/wp-content/themes/madara/css/lightbox.min.css' type='text/css'
        media='all' />
    <link rel='stylesheet' id='fontawesome-css'
        href='/wp-content/themes/madara/app/lib/fontawesome/web-fonts-with-css/css/all.min.css' type='text/css'
        media='all' />
    <link rel='stylesheet' id='ionicons-css' href='/wp-content/themes/madara/css/fonts/ionicons/css/ionicons.min.css'
        type='text/css' media='all' />

    <link rel='stylesheet' id='madara-icons-css'
        href='/wp-content/themes/madara/css/fonts/ct-icon/ct-icon.css?ver=6.6.2' type='text/css' media='all' />
    <link rel='stylesheet' id='loaders-css' href='/wp-content/themes/madara/css/loaders.min.css' type='text/css'
        media='all' />
    <link rel='stylesheet' id='madara-css-css' href='/wp-content/themes/madara-child-x/style.css' type='text/css'
        media='all' />
    <link rel='stylesheet' id='mycred-front-css' href='/wp-content/plugins/mycred/assets/css/mycred-front.css'
        type='text/css' media='all' /> 
    {{--
    <link rel='stylesheet' id='mycred-social-share-icons-css'
        href='/wp-content/plugins/mycred/assets/css/mycred-social-icons.css' type='text/css' media='all' /> --}}
    {{--
    <link rel='stylesheet' id='mycred-social-share-style-css'
        href='/wp-content/plugins/mycred/assets/css/mycred-social-share.css' type='text/css' media='all' /> --}}
    <!--End CSS-->
    <!--Start JS-->
    <script src="/wp-includes/js/wp-emoji-release.min.js"></script>
    <script type="text/javascript" src="/wp-includes/js/jquery/jquery.min.js" id="jquery-core-js"></script>
    <script type="text/javascript" src="/wp-includes/js/jquery/jquery-migrate.min.js" id="jquery-migrate-js"></script>
    <script type="text/javascript" src="/wp-includes/js/jquery/ui/core.min.js" id="jquery-ui-core-js"></script>
    <script type="text/javascript" src="/wp-includes/js/jquery/ui/menu.min.js" id="jquery-ui-menu-js"></script>
    <script type="text/javascript" src="/wp-includes/js/dist/dom-ready.min.js" id="wp-dom-ready-js"></script>
    {{-- <script type="text/javascript" src="/wp-includes/js/dist/hooks.min.js" id="wp-hooks-js"></script> --}}
    {{-- <script type="text/javascript" src="/wp-includes/js/dist/i18n.min.js" id="wp-i18n-js"></script> --}}

    {{-- <script type="text/javascript" src="/wp-includes/js/dist/a11y.min.js" id="wp-a11y-js"></script> --}}
    <script type="text/javascript" src="/wp-includes/js/jquery/ui/autocomplete.min.js" id="jquery-ui-autocomplete-js">
    </script>

    <script type="text/javascript" src="/wp-content/plugins/madara-core/assets/js/script.js" id="wp-manga-js"></script>
    <script type="text/javascript" src="/wp-content/plugins/wp-manga-chapter-coin/assets/js/frontend.js"
        id="chapter-coin-js-js"></script>
    <script type="text/javascript" src="/wp-content/themes/madara/js/bootstrap.min.js" id="bootstrap-js"></script>
    <script type="text/javascript" src="/wp-content/themes/madara/js/shuffle.min.js" id="shuffle-js"></script>

    <script type="text/javascript" src="/wp-content/themes/madara/js/template.js" id="madara-js-js"></script>
    <script type="text/javascript" src="/wp-content/themes/madara-child-x/assets/js/child.js" id="madara-child-js-js">
    </script>
    {{-- <script type="text/javascript" src="/wp-content/plugins/mycred/addons/badges/assets/js/front.js"
        id="mycred-badge-front-js"></script> --}}
    <!--End JS-->
</head>

<body class="home page-template page-template-page-templates page-template-front-page page-template-page-templatesfront-page-php page page-id-189 wp-embed-responsive header-style-1 sticky-enabled sticky-style-1 text-ui-light minimal-reading-layout">

    <div id="pageloader" class="spinners">
        <div class="spinner">
            <div class="c-pre-loading-logo"><a class="logo" href="/" title="Madara Child X Theme"><img
                        class="for-original" src="/wp-content/themes/madara/images/logo.png"
                        alt="Madara Child X Theme" /></a></div>
            <div class="loader-inner ball-grid-pulse">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
    </div>
    <div class="wrap">
        <div class="body-wrap">
            <header class="site-header">
                <div class="c-header__top">
                    <ul class="search-main-menu">
                        <li>
                            <form id="blog-post-search" class="ajax" action="/" method="get">
                                <input type="text" placeholder="Search..." name="s" value="">
                                <input type="submit" value="Search">
                                <div class="loader-inner line-scale">
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                </div>
                            </form>
                        </li>
                    </ul>
                    <div class="main-navigation style-1 ">
                        <div class="container ">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="main-navigation_wrap">
                                        <div class="menu-left">
                                            <a class="logo" href="/" title="">
                                                <img class="img-responsive"
                                                    src="/wp-content/themes/madara/images/logo.png"
                                                    alt="Madara Child X Theme" />
                                            </a>
                                            <div class="main-menu">
                                            <div class="section_adult on">
                                                <a href="/" target="_self" title="Family Safe">
                                                    <span class="dot"><!-- --></span><span>Family Safe</span>
                                                </a>
                                            </div>
                                                <ul class="nav navbar-nav main-navbar">
                                                    <li id="menu-item-197"
                                                        class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home current-menu-item page_item page-item-189 current_page_item menu-item-197">
                                                        <a href="/" aria-current="page">Trang Chính</a>
                                                    </li>
                                                    
                                                </ul>
                                            </div>
                                        </div>

                                        <div class="menu-right">

                                            <div id="search-sidebar">

                                                <form class="manga-search-form search-form ajax" id="blog-post-search"
                                                    action="/" method="get">
                                                    <input class="manga-search-field" type="text" placeholder="Search"
                                                        name="s" value="">
                                                    <button type="submit" class="btn-search"><i
                                                            class="fas fa-search-minus"></i></button>
                                                    <div class="loader-inner line-scale">
                                                        <div></div>
                                                        <div></div>
                                                        <div></div>
                                                        <div></div>
                                                        <div></div>
                                                    </div>
                                                    <input type="hidden" name="post_type" value="wp-manga">
                                                </form>
                                            </div>

                                            <div class="c-togle__menu">
                                                <button type="button" class="menu_icon__open">
                                                    <span></span> <span></span> <span></span>
                                                </button>
                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="mobile-menu menu-collapse off-canvas">
                    <div class="close-nav">
                        <button class="menu_icon__close">
                            <span></span> <span></span>
                        </button>
                    </div>

                    <div id="search-sidebar">
                        <form class="manga-search-form search-form ajax" id="blog-post-search" action="/" method="get">
                            <input class="manga-search-field" type="text" placeholder="Search" name="s" value="">
                            <button type="submit" class="btn-search"><i class="fas fa-search"></i></button>
                            <div class="loader-inner line-scale">
                                <div></div>
                                <div></div>
                                <div></div>
                                <div></div>
                                <div></div>
                            </div>
                            <input type="hidden" name="post_type" value="wp-manga">
                        </form>
                    </div>

                    <nav class="off-menu">
                        <ul id="menu-primary-menu-594" class="nav navbar-nav main-navbar">
                            <li id="nav-menu-item-197"
                                class="main-menu-item menu-item-depth-0 menu-item menu-item-type-post_type menu-item-object-page menu-item-home current-menu-item page_item page-item-189 current_page_item">
                                <a href="/" class="menu-link  main-menu-link">Trang Chính </a>
                            </li>
                           
                        </ul>
                    </nav>

                    <div class="center">
                        <div class="section_adult on">
                            <a href="/" target="_self" title="Family Safe">
                                <span class="dot">
                                    <!-- -->
                                </span><span>Family Safe</span>
                            </a>
                        </div>
                    </div>
                </div>

            </header>
            <style>
                .mobile{
                    height:330px
                }
                @media only screen and (max-width: 600px) {
                    .mobile{
                        height:250px;
                    }
                }
            </style>
            <!--Start Content-->
            <div id="site-content" class="site-content">
                <div class="c-page-content style-2">
                    <div class="content-area ">
                        <div class="container">
                            <div class="row ">
                                <div class="col-md-12 col-sm-12">
                                    <div class="main-col-inner">
                                        <div id="post-189"
                                            class="c-blog-post post-189 page type-page status-publish hentry">
                                            <div class="entry-content">
                                                <div class="entry-content_wrap">

                                                    <div id="c-post-slider-495" class="manga-slider style-2"
                                                        data-style="style-2" data-count="3">

                                                        <div class="slider__container" role="toolbar">
                                                            @foreach($list_comic_new as $key=>$comic)
                                                            <div class="slider__item ">
                                                                <div class="slider__thumb">
                                                                    <div class="slider__thumb_item">
                                                                        <a href="#">
                                                                            <img fetchpriority="high" decoding="async"
                                                                                style="height: 500px;"
                                                                                src="https://img.otruyenapi.com/uploads/comics/{{ $comic['thumb_url'] }}"
                                                                                class="attachment-madara_x_slider_2 size-madara_x_slider_2 wp-post-image"
                                                                                alt=""
                                                                                srcset="https://img.otruyenapi.com/uploads/comics/{{ $comic['thumb_url'] }} 450w, https://img.otruyenapi.com/uploads/comics/{{ $comic['thumb_url'] }} 150w"
                                                                                sizes="(max-width: 450px) 100vw, 450px" />
                                                                            <div class="slider-overlay"></div>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <div class="slider__content">
                                                                    <div class="slider__content_item">
                                                                        <div class="post-title font-title">
                                                                            <h4>
                                                                            @if($key %3 == 1)
                                                                            <span class="manga-title-badges custom trending">thịnh hành</span>
                                                                            @else
                                                                            <span class="manga-title-badges custom hot">HOT</span>
                                                                            @endif
                                                                                <a class="btn-comic"
                                                                                    href="javascrip:void(0);"
                                                                                    data-slug="{{ $comic['slug'] }}">
                                                                                    {{ $comic['name'] }} </a>
                                                                                <span class="manga-genres">
                                                                                    @foreach(collect($comic['category'])->take(3)
                                                                                    as $genre)
                                                                                    <span class="genre-item">

                                                                                        <i class="fas fa-circle"></i><a
                                                                                            href="#" rel="tag">{{
                                                                                            $genre['name'] }}</a>
                                                                                    </span>
                                                                                    @endforeach
                                                                                </span>
                                                                            </h4>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            @endforeach
                                                        </div>
                                                    </div>

                                                    <div style="height:30px" aria-hidden="true" class="wp-block-spacer">
                                                    </div>


                                                    <div class="x-heading">
                                                        <h2>Adult</h2>
                                                        <div class="sub-links"><a href="/manga/">See All</a><a href="">
                                                                | </a></div>
                                                    </div>
                                                    <div style="height:18px" aria-hidden="true" class="wp-block-spacer">
                                                    </div>

                                                    <div id="c-post-slider-100" class="manga-slider style-1 no-padding"
                                                        data-style="style-1" data-count="5">

                                                        <div class="slider__container_custom" role="toolbar">
                                                            @foreach($list_comic as $key=>$comic)
                                                            <div class="slider__item ">
                                                                <div class="slider__thumb">
                                                                    @if($key % 3 !=1)                            
                                                                     <span class="manga-title-badges custom trending">thịnh hành</span>
                                                                     @else
                                                                     <span class="manga-title-badges new">new</span>
                                                                     @endif
                                                                    <div class="slider__thumb_item">
                                                                        <a href="#">
                                                                            <img loading="lazy" decoding="async"
                                                                                src="https://img.otruyenapi.com/uploads/comics/{{ $comic['thumb_url'] }}"
                                                                                class="attachment-madara_x_slider_1 size-madara_x_slider_1 wp-post-image mobile"
                                                                                alt="" />
                                                                            <div class="slider-overlay"></div>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <div class="slider__content">
                                                                    <div class="slider__content_item">
                                                                        <div class="post-title font-title">
                                                                            <h4>
                                                                                <a href="#" class="btn-comic" data-slug="{{ $comic['slug'] }}">
                                                                                    {{$comic['name']}} </a>
                                                                            </h4>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                            @endforeach
                                                        </div>


                                                    </div>

                                                    <div style="height:30px" aria-hidden="true" class="wp-block-spacer">
                                                    </div>

                                                    <div class="x-heading">
                                                        <h2>Anime</h2>
                                                        <div class="sub-links"><a href="/manga/">See All</a><a href="">
                                                                | </a></div>
                                                    </div>
                                                    <div style="height:18px" aria-hidden="true" class="wp-block-spacer">
                                                    </div>

                                                    <div id="c-post-slider-100" class="manga-slider style-1 no-padding"
                                                        data-style="style-1" data-count="5">

                                                        <div class="slider__container_custom" role="toolbar">
                                                            @foreach($list_comic_anime as $key=>$comic)
                                                            <div class="slider__item ">
                                                                <div class="slider__thumb">
                                                                    @if($key % 5 == 1)
                                                                    <span class="manga-title-badges hot">hot</span>
                                                                    @endif
                                                                    <div class="slider__thumb_item">
                                                                        <a href="#">
                                                                            <img loading="lazy" decoding="async"
                                                                                src="https://img.otruyenapi.com/uploads/comics/{{ $comic['thumb_url'] }}"
                                                                                class="attachment-madara_x_slider_1 size-madara_x_slider_1 wp-post-image mobile"
                                                                                alt="" />
                                                                            <div class="slider-overlay"></div>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <div class="slider__content">
                                                                    <div class="slider__content_item">
                                                                        <div class="post-title font-title">
                                                                            <h4>
                                                                                <a href="#" class="btn-comic" data-slug="{{ $comic['slug'] }}">
                                                                                    {{$comic['name']}} </a>
                                                                            </h4>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                            @endforeach
                                                        </div>


                                                    </div>

                                                    <div style="height:30px" aria-hidden="true" class="wp-block-spacer">
                                                    </div>



                                                    <div class="x-heading">
                                                        <h2>Đã Hoàn Thành</h2>
                                                        <div class="sub-links"><a href="">See All</a><a href="#"> | </a>
                                                        </div>
                                                    </div>
                                                    <div style="height:0px" aria-hidden="true" class="wp-block-spacer">
                                                    </div>
                                                    <div class="c-page">
                                                        <div class="c-page__content">
                                                            <!-- Tab panes -->
                                                            <div class="tab-content-wrap">
                                                                <div role="tabpanel" class="c-tabs-item">
                                                                    <div
                                                                        class="page-content-listing item-chapters slick-initialized slick-slider slick-dotted">
                                                                        <a href="#" class="btn-left" data-page="0"><i
                                                                                class="fas fa-chevron-left slick-arrow"></i></a>
                                                                        <table
                                                                            class="manga-shortcodes manga-chapters-listing">
                                                                            <tbody id="row_recent">

                                                                            </tbody>
                                                                        </table>
                                                                        <a href="#" class="btn-right" data-page="2"><i
                                                                                class="fas fa-chevron-right slick-arrow"></i></a>
                                                                        <div id="numberPage"></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--End Content-->
            <!-- <div class="site-content"> -->
            <footer id="site-footer" class="site-footer">
                <div class="c-footer-sidebar">
                    <div class="container">
                        <div class="row c-row">
                            <div id="manga-genres-id-3"
                                class="widget col-12 col-md-12   default no-icon  manga-genres-class-name">
                                <div class="widget__inner manga-genres-class-name__inner c-widget-wrap">
                                    <div class="genres_wrap">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="widget-heading font-nav">
                                                    <h5 class="heading">Tất cả Thể Loại</h5>
                                                </div>
                                                <div class="widget-content">
                                                    <div class="genres__collapse" style="display:block;">
                                                        <div class="row genres">
                                                            <ul id="genre" class="list-unstyled">

                                                            </ul>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bottom-footer">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">

                                <div class="copyright">
                                    <h3>NEST TRUYệN</h3>
                                    <p>DEVELOPER by Nesttruyen.com</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </footer>


        </div>
        <!-- class="wrap" -->
    </div>
    <!-- class="body-wrap" -->


    <div class="go-to-top active">
        <i class="icon ion-md-arrow-up"></i>
    </div>
    <script type="text/javascript" src="/wp-content/plugins/wp-manga-chapter-thumbnail/assets/js/frontend.js"
        id="wp-manga-chapter-thumbnail-frontend-js"></script>
    <script type="text/javascript" src="/wp-content/themes/madara/js/lightbox.min.js" id="lightbox-js"></script>
    <script type="text/javascript" src="/wp-content/themes/madara/js/core.js" id="madara-core-js"></script>
    <script type="text/javascript" src="/wp-content/themes/madara/js/smoothscroll.js" id="smoothscroll-js"></script>
    <script type="text/javascript" src="/wp-content/themes/madara/js/lazysizes/lazysizes.min.js" id="lazysizes-js">
    </script>
    <script type="text/javascript" src="/wp-includes/js/imagesloaded.min.js" id="imagesloaded-js"></script>
    <script type="text/javascript" src="/wp-content/themes/madara/js/aos.js" id="aos-js"></script>
    {{-- <script type="text/javascript" src="/wp-content/themes/madara/js/ajax.js" id="madara-ajax-js"></script> --}}

    {{-- <script type="text/javascript" src="/wp-content/plugins/madara-core/assets/js/login.js"
        id="wp-manga-login-ajax-js">
    </script> --}}
    <script type="text/javascript" src="/wp-content/plugins/madara-core/assets/slick/slick.min.js"
        id="wp-manga-slick-js-js"></script>
    <script type="text/javascript" src="/wp-content/themes/madara/js/slick/slick.min.js" id="slick-js"></script>
    <script type="text/javascript" src="/wp-content/plugins/madara-shortcodes/shortcodes/js/ct-shortcodes.js"
        id="ct-shortcode-js-js"></script>
    
    <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->
    <script>
        async function comic_detail(slug) { 
            
            window.scrollTo({ top: 0, behavior: 'smooth' });

            const comic = await fetch('/api/comic/'+slug);
            const responseArray = await comic.json();
            const comic_detail = responseArray['detail']['item'];
            const chapter_last = responseArray['chapter_last'];
            const chapter_first = responseArray['chapter_first'];
            const comic_detail_genre = responseArray['detail']['breadCrumb'];
            const imageUrl = 'https://img.otruyenapi.com/uploads/comics/';
            const img = imageUrl+comic_detail['thumb_url'];
            const name = comic_detail['name']
            // console.log(comic_detail);
            const contentDetail = document.getElementById('site-content');
            contentDetail.innerHTML = ``;
            const row = document.createElement("div");
            row.classList.add("post-249", "wp-manga", "type-wp-manga", "status-publish", "has-post-thumbnail", "hentry", "wp-manga-tag-tag-1", "wp-manga-tag-tag-2", "wp-manga-tag-tag-3", "wp-manga-release-4", "wp-manga-author-the-author", "wp-manga-artist-artist", "wp-manga-genre-action", "wp-manga-genre-adventure", "wp-manga-genre-boys", "wp-manga-genre-chinese", "wp-manga-genre-drama", "wp-manga-genre-ecchi", "wp-manga-genre-fighting", "wp-manga-genre-fun", "wp-manga-genre-girl", "wp-manga-genre-horrow", "wp-manga-genre-manhwa", "chapter-listing-1");
            const subDiv = document.createElement("div");
            subDiv.classList.add("profile-manga");
            subDiv.style.marginTop="35px";
            subDiv.style.marginBottom="50px";
            row.appendChild(subDiv); 
            const subDiv1 = document.createElement("div");
            subDiv1.classList.add("container");
            subDiv.appendChild(subDiv1);
            const subDiv2 = document.createElement("div");
            subDiv2.classList.add("row");
            subDiv1.appendChild(subDiv2);
            const subDiv3 = document.createElement("div");
            subDiv3.classList.add("left", "col-12", "col-sm-12", "col-md-4");
            subDiv2.appendChild(subDiv3);
            const subDiv4 = document.createElement("div");
            subDiv4.classList.add("manga-thumb");
            subDiv4.innerHTML=`
            <div class="summary_image">
                <a href="#">
                <img width="450" height="450"  data-src="${imageUrl}${comic_detail['thumb_url']}" data-srcset="${imageUrl}${comic_detail['thumb_url']} 450w, ${imageUrl}${comic_detail['thumb_url']} 150w" data-sizes="(max-width: 450px) 100vw, 450px" class="img-responsive lazyload effect-fade" style="padding-top:100%;"  alt="249"/>
                </a>
            </div>
            `;
            subDiv3.appendChild(subDiv4);
            const subDiv4_1 = document.createElement("div");
            subDiv4_1.classList.add("action-buttons");
            subDiv4_1.style.display= "flex";
            subDiv4_1.style.alignItems= "center";
            subDiv4_1.style.justifyContent= "space-between";
            subDiv4_1.style.marginTop= "15px";
            subDiv4_1.style.marginBottom= "60px";

            subDiv3.appendChild(subDiv4_1);
            const subDiv4_1_1 = document.createElement("div");
            subDiv4_1_1.classList.add("left");
            subDiv4_1.appendChild(subDiv4_1_1);

            const subDiv4_1_2 = document.createElement("div");
            subDiv4_1_2.classList.add("nav-links");
            subDiv4_1_2.id = "init-links";
            subDiv4_1_1.appendChild(subDiv4_1_2);

            const subA = document.createElement("a");
            subA.classList.add("c-btn", "c-btn_style-1");
            subA.id = "btn-read-last";
            subA.style.margin = "10px";
            subA.textContent = "Xem từ đầu";
            subA.addEventListener('click', function(event) {
                event.preventDefault();
                
                comic_chapter(chapter_first,comic_detail['slug'],img,name);
            });
            subDiv4_1_2.appendChild(subA);

            const subA_1 = document.createElement("a");
            subA_1. classList.add("c-btn", "c-btn_style-1");
            subA_1.id = "btn-read-first";
            subA_1.style.margin = "10px";
            subA_1.textContent = "Xem cuối";
            subA_1.addEventListener('click', function(event) {
                event.preventDefault();
                
                comic_chapter(chapter_last,comic_detail['slug'],img,name);
            });
            subDiv4_1_2.appendChild(subA_1);

            const subDiv3_1 = document.createElement("div");
            subDiv3_1.classList.add("right", "col-12", "col-sm-12", "col-md-8");
            subDiv2.appendChild(subDiv3_1);
            const subDiv4_2 = document.createElement("div");
            subDiv4_2.classList.add("post-title");
            subDiv4_2.innerHTML=`
            <h1>${comic_detail['name']}</h1>
            `;
            subDiv3_1.appendChild(subDiv4_2);
            const subDiv4_3 = document.createElement("div");
            subDiv4_3.classList.add("post-content");
            subDiv3_1.appendChild(subDiv4_3);
            const subDiv5 = document.createElement("div");
            subDiv5.classList.add("post-content_item");
            subDiv4_3.appendChild(subDiv5);
            const subDiv6 = document.createElement("div");
            subDiv6.classList.add("summary-content");
            subDiv5.appendChild(subDiv6);
            const subDiv7 = document.createElement("div");
            subDiv7.classList.add("genres-content");
            comic_detail_genre.forEach(item=>{
                const link = document.createElement("a");
                link.style.margin = "10px";
                link.href = `#`;
                link.rel = "tag";
                link.textContent = item['name'];
                subDiv7.appendChild(link);
            });
            
            subDiv6.appendChild(subDiv7);
            
            const subDiv5_1 = document.createElement("div");
            subDiv5_1.classList.add("description-summary");
            subDiv5_1.style.margin = "10px";
            subDiv5_1.innerHTML = `
            <div class="summary__content">
                ${comic_detail['content']}
            </div>
            `;
            subDiv4_3.appendChild(subDiv5_1);

            const subDiv5_2 = document.createElement("div");
            subDiv5_2.classList.add("author-row");
            subDiv5_2.style.margin = "10px";
            subDiv5_2.innerHTML = `
            <div class="post-content_item">
                <div class="summary-heading">
                    <h5>Tác Giả: </h5>
                </div>
                <div class="summary-content">
                    <div class="author-content">
                        <a href="#" rel="tag">${comic_detail['author']['0']}</a> </div>
                </div>
            </div>
            `;
            subDiv4_3.appendChild(subDiv5_2);

            const subDiv5_3 = document.createElement("div");
            subDiv5_3.classList.add("release-time", "author-row");
            subDiv5_3.style.margin = "10px";
            subDiv5_3.textContent = `
             Chương mới phát hành:
            `;
            subDiv4_3.appendChild(subDiv5_3);

            const subDiv4_4 = document.createElement("div");
            subDiv3_1.appendChild(subDiv4_4);

            const subDiv5_4 = document.createElement("div");
            subDiv5_4.classList.add("page-content-listing", "single-page");
            subDiv5_4.style.paddingLeft = "10px";
            subDiv4_4.appendChild(subDiv5_4);

            const subDiv6_1 = document.createElement("div");
            subDiv6_1.classList.add("listing-chapters_wrap", "cols-2");
            subDiv5_4.appendChild(subDiv6_1);

            const subDiv7_1 = document.createElement("div");
            subDiv7_1.classList.add("main", "version-chap", "no-volumn");
            subDiv7_1.style.maxHeight = "300px";
            subDiv7_1.style.overflowY = "auto";
            subDiv7_1.style.paddingRight = "10px";

            comic_detail['chapters'][0]['server_data'].forEach(chapter=>{
                const chap = document.createElement("li");
                chap.classList.add("wp-manga-chapter", "has-thumb", "free-chap");

                const link = document.createElement("a");
                link.href = 'javascript:void(0);'; 
                link.textContent = `Chương - ${chapter['chapter_name']}`;
                
                link.classList.add("btn-comic-chapter");
                // link.setAttribute("data-chapter", chapter['chapter_name']); 
                // link.setAttribute("data-slug", comic_detail['slug']); 
                chap.appendChild(link);
                subDiv7_1.prepend(chap);
                link.addEventListener('click', function(event) {
                event.preventDefault();
                
                comic_chapter(chapter['chapter_name'],comic_detail['slug'],img,name);
            });
            });
            subDiv6_1.appendChild(subDiv7_1);

            contentDetail.appendChild(row);  
            history.replaceState({}, null, `/comic/${slug}`);
            history.pushState({}, null, `/comic/${slug}`);
        }
        document.querySelectorAll('.btn-comic').forEach(link => {
            
            link.addEventListener('click', function(event) {
                event.preventDefault();
                const slug = this.getAttribute('data-slug');
                comic_detail(slug);
                
            });
        });
        async function comic_chapter(chapter,slug, img, name) {  
            window.scrollTo({ top: 0, behavior: 'smooth' });
           
            const comic_chapter = await fetch('/api/comic/'+slug+'/'+chapter);
            const responseChapter = await comic_chapter.json();
            if (responseChapter['code'] == '404') {
                return false;
            }
            const chapter_path = responseChapter['chapter']['item']['chapter_path'];
           
            const url = responseChapter['chapter']['domain_cdn'];
            // console.log(responseChapter['chapter_next']);
            const contentChapter = document.body;
            // contentChapter.innerHTML = ``;
            contentChapter.className="";
            contentChapter.classList.add("wp-manga-template-default", "single", "single-wp-manga", "postid-249", "wp-embed-responsive", "wp-manga-page", "reading-manga", "click-to-scroll", "keyboard-navigate", "page", "header-style-1", "sticky-enabled", "sticky-style-1", "text-ui-light", "manga-reading-list-style", "minimal-reading-layout");
            const chapDiv = document.getElementById('site-content');
            chapDiv.innerHTML = ``;
            const chapDiv1 = document.createElement("div");
            chapDiv1.classList.add("c-page-content", "style-1","reading-content-wrap","chapter-type-manga");
            chapDiv.appendChild(chapDiv1);
            const chapDiv2 = document.createElement("div");
            chapDiv2.classList.add("content-area");
            chapDiv1.appendChild(chapDiv2);

            const chapDiv3 = document.createElement("div");
            chapDiv3.classList.add("container");
            chapDiv2.appendChild(chapDiv3);

            const chapDiv4 = document.createElement("div");
            chapDiv4.classList.add("row");
            chapDiv3.appendChild(chapDiv4);

            const chapDiv5 = document.createElement("div");
            chapDiv5.classList.add("main-col", "col-sm-12", "sidebar-hidden");
            chapDiv4.appendChild(chapDiv5);

            const chapDiv6 = document.createElement("div");
            chapDiv6.classList.add("d-flex" ,"justify-content-between","align-items-center");
            chapDiv5.appendChild(chapDiv6);

            const chapDiv7 = document.createElement("div");
            chapDiv7.classList.add("prev-chap-item");
            chapDiv5.appendChild(chapDiv7);

            const chapA = document.createElement("a");
            chapA.style.fontSize = "22px";
            chapA.href = '/';
            chapA.classList.add("back-to-manga-detail");
            chapA.innerHTML = `
            <i class="fa fa-chevron-left" aria-hidden="true"></i>`;
            chapDiv7.appendChild(chapA);

            const chapDiv8 = document.createElement("div");
            chapDiv8.classList.add("chap-item");
            chapDiv8.innerHTML = `
            <a href="#" title="Manga 17">
                <img width="75" height="106"
                    data-src="${img}"
                    class="img-responsive lazyload effect-fade"
                    style="padding-top:106px;" alt="249" /> </a>
            <h3><a href="#" title="${name}">${name}</a></h3>
                    `;
            chapDiv7.appendChild(chapDiv8);

            const chapDiv6_1 = document.createElement("h1");
            chapDiv6_1.id = "chapter-heading";
            chapDiv6_1.textContent = `Chương ${responseChapter['chapter']['item']['chapter_name']}`;
            chapDiv5.appendChild(chapDiv6_1);

            const chapDiv6_2 = document.createElement("div");
            chapDiv6_2.classList.add("main-col-inner");
            chapDiv5.appendChild(chapDiv6_2);

            const chapDiv7_1 = document.createElement("div");
            chapDiv7_1.classList.add("c-blog-post");
            chapDiv6_2.appendChild(chapDiv7_1);

            const chapDiv8_1 = document.createElement("div");
            chapDiv8_1.classList.add("entry-header", "header");
            chapDiv7_1.appendChild(chapDiv8_1);

            const chapDiv9 = document.createElement("div");
            chapDiv9.classList.add("wp-manga-nav");
            chapDiv9.innerHTML = `
            <div class="entry-header_wrap">
                <div class="c-breadcrumb-wrapper">
                    <div class="action-icon">
                        <ul class="action_list_icon list-inline">
                            <li><a href="#" class="wp-manga-action-button"
                                    data-action="toggle-contrast"
                                    title="Toggle Dark/Light Mode"><i
                                        class="icon ion-md-contrast"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            `;
            chapDiv8_1.appendChild(chapDiv9);

            const chapDiv8_2 = document.createElement("div");
            chapDiv8_2.classList.add("entry-content");
            chapDiv8_2.id = "entry-content";
            chapDiv7_1.appendChild(chapDiv8_2);

            const chapDiv9_1 = document.createElement("div");
            chapDiv9_1.classList.add("entry-content_wrap");
            chapDiv8_2.appendChild(chapDiv9_1);

            const chapDiv10 = document.createElement("div");
            chapDiv10.classList.add("read-container");
            chapDiv9_1.appendChild(chapDiv10);

            const chapDiv11 = document.createElement("div");
            chapDiv11.classList.add("reading-content");
            chapDiv10.appendChild(chapDiv11);

            const chapDiv12 = document.createElement("div");
            chapDiv12.classList.add("chapter-images");

            responseChapter['chapter']['item']['chapter_image'].forEach(chapter_img=>{
                const imgDiv = document.createElement("div");
                imgDiv.classList.add("page-break");

                const comic_image = document.createElement("img");
                comic_image.src = `${url}`+`/`+`${chapter_path}`+`/`+`${chapter_img['image_file']}`; 
                comic_image.classList = "wp-manga-chapter-img", "img-responsive","lazyload-ordered","effect-fade";
                comic_image.setAttribute('loading','lazy');
                imgDiv.appendChild(comic_image);
                chapDiv12.appendChild(imgDiv);
                
            });
            
            chapDiv11.appendChild(chapDiv12);

            const chapDiv3_1 = document.createElement("div");
            chapDiv3_1.classList.add("text-reading-footer");
            const chapDiv3_1_1 =  document.createElement("div");
            chapDiv3_1_1.classList.add("container", "d-flex", "justify-content-between");
            chapDiv3_1_1.innerHTML=`
            <div class="left-footer">
                <button class="hamburger open-chaps-list-canvas" type="button" data-toggle="modal"
                data-target="#chaptersModal"><i class="fa fa-bars"
                    aria-hidden="true"></i></button>
                <h5 id ="chap-name" class="chap-name">Chương ${responseChapter['chapter']['item']['chapter_name']}</h5>
            </div>
            `;
            chapDiv3_1.appendChild(chapDiv3_1_1);

            const chapDiv3_1_2 = document.createElement("div");
            chapDiv3_1_2.classList.add("right-footer");
            chapDiv3_1_1.appendChild(chapDiv3_1_2);

            const chapDiv3_1_3 = document.createElement("div");
            chapDiv3_1_3.classList.add("chap-nav");
            chapDiv3_1_2.appendChild(chapDiv3_1_3);

            const chapDiv3_1_4 = document.createElement("button");
            chapDiv3_1_4.classList.add("prev-chap");
            chapDiv3_1_4.id = "prev-chap";
            chapDiv3_1_4.setAttribute("data-chapter", responseChapter['chapter_prev']);
            chapDiv3_1_4.innerHTML= `
                <i class="fa fa-chevron-left" aria-hidden="true"></i> Prev
            `;
            chapDiv3_1_4.addEventListener('click', function(event) {
                event.preventDefault();
                const numChapter = this.getAttribute("data-chapter");
                chapters(numChapter,slug,url);
            });
            chapDiv3_1_3.appendChild(chapDiv3_1_4);

            const chapDiv3_1_5 = document.createElement("button");
            chapDiv3_1_5.classList.add("next-chap");
            chapDiv3_1_5.id = "next-chap";
            chapDiv3_1_5.setAttribute("data-chapter", responseChapter['chapter_next']);
            chapDiv3_1_5.innerHTML= `
                Next <i class="fa fa-chevron-right" aria-hidden="true"></i>
            `;
            chapDiv3_1_5.addEventListener('click', function(event) {
                event.preventDefault();
                const numChapter = this.getAttribute("data-chapter");
                chapters(numChapter,slug,url);
            });
            chapDiv3_1_3.appendChild(chapDiv3_1_5);

            chapDiv2.appendChild(chapDiv3_1);

            const chapDiv4_1 = document.createElement("div");
            chapDiv4_1.classList.add("modal" ,"offcanvas-menu", "shadow", "pr-0");
            chapDiv4_1.id  = "chaptersModal";
            chapDiv4_1.setAttribute("tabindex", "-1");
            chapDiv4_1.setAttribute("aria-labelledby", "chaptersModalLabel");
            chapDiv4_1.setAttribute("aria-hidden", "true");
            chapDiv4_1.setAttribute("data-backdrop", "");
            chapDiv2.appendChild(chapDiv4_1);

            const chapDiv5_1 = document.createElement("div");
            chapDiv5_1.classList.add("m-0", "h-100");
            chapDiv4_1.appendChild(chapDiv5_1);

            const chapDiv6_3 = document.createElement("div");
            chapDiv6_3.classList.add("modal-content", "border-0", "rounded-0");
            chapDiv6_3.innerHTML = `
            <div class="manga">
                <h3>${name}</h3>
            </div>
            `;
            chapDiv5_1.appendChild(chapDiv6_3);

            const chapDiv6_4 = document.createElement("div");
            chapDiv6_4.classList.add("chapters");
            chapDiv5_1.appendChild(chapDiv6_4);

            const chapDiv7_2 = document.createElement("div");
            chapDiv7_2.classList.add("c-blog__heading", "font-heading");
            chapDiv7_2.innerHTML = `
            <h2 class="h4">${responseChapter['list_chapter'].length} Chương </h2>
            `;
            chapDiv6_4.appendChild(chapDiv7_2);

            const chapDiv7_3 = document.createElement("div");
            chapDiv7_3.classList.add("age-content-listing", "single-page");
            chapDiv6_4.appendChild(chapDiv7_3);

            const chapDiv8_3 = document.createElement("div");
            chapDiv8_3.classList.add("listing-chapters_wrap" ,"cols-1", "show-more");
            chapDiv7_3.appendChild(chapDiv8_3);

            const chapDiv9_2 = document.createElement("ul");
            chapDiv9_2.classList.add("main", "version-chap" ,"no-volumn");
            responseChapter['list_chapter'].forEach(all=>{
                
                const chapDiv10_1 = document.createElement("li");
                chapDiv10_1.classList.add("wp-manga-chapter", "has-thumb", "free-chap");
                chapDiv10_1.innerHTML = `
                    <span class="coin free">Free</span>
                    <div class="chapter-thumbnail">
                        <img class="thumb"
                            src="${img}" />
                    </div>
                    <div class="chapter-name">
                        <a class="btn-chapter" data-chapter="${all['chapter_name']}" href="#">Chương ${all['chapter_name']} </a>
                    </div>
                `;
                chapDiv9_2.appendChild(chapDiv10_1);
                chapDiv10_1.addEventListener('click', function(event) {
                event.preventDefault();
                
                chapters(all['chapter_name'],slug,url);
            });
                
            });
          
            chapDiv8_3.appendChild(chapDiv9_2);
            history.replaceState({}, null, `/comic/${slug}/${chapter}`);
            history.pushState({}, null, `/comic/${slug}/${chapter}`);
        }
        async function chapters(num_chapter,slug,url) {
            window.scrollTo({ top: 0, behavior: 'smooth' });
            const comic_chapter = await fetch('/api/comic/'+slug+'/'+num_chapter);
            const responseChapter = await comic_chapter.json();
            if (responseChapter['code']=='404') {
                return false;
            }
            const chapter = responseChapter['chapter'];
            const chapter_path = responseChapter['chapter']['item']['chapter_path'];
            const contentPage = document.getElementById('entry-content');
            contentPage.innerHTML = '';

            const setBtnpre = document.getElementById("prev-chap");
            setBtnpre.setAttribute("data-chapter", responseChapter['chapter_prev']);

            const setBtnnext = document.getElementById("next-chap");
            setBtnnext.setAttribute("data-chapter", responseChapter['chapter_next']);

            const chapDiv6_1 = document.getElementById("chapter-heading");
            chapDiv6_1.textContent = `Chương ${chapter['item']['chapter_name']}`;

            const chapName = document.getElementById("chap-name");
            chapName.textContent = `Chương ${chapter['item']['chapter_name']}`;

            const chapDiv9_1 = document.createElement("div");
            chapDiv9_1.classList.add("entry-content_wrap");
            contentPage.appendChild(chapDiv9_1);

            const chapDiv10 = document.createElement("div");
            chapDiv10.classList.add("read-container");
            chapDiv9_1.appendChild(chapDiv10);

            const chapDiv11 = document.createElement("div");
            chapDiv11.classList.add("reading-content");
            chapDiv10.appendChild(chapDiv11);

            const chapDiv12 = document.createElement("div");
            chapDiv12.classList.add("chapter-images");

            chapter['item']['chapter_image'].forEach(chapter_img=>{
                const imgDiv = document.createElement("div");
                imgDiv.classList.add("page-break");

                const comic_image = document.createElement("img");
                comic_image.src = `${url}`+`/`+`${chapter_path}`+`/`+`${chapter_img['image_file']}`; 
                comic_image.classList = "wp-manga-chapter-img", "img-responsive","lazyload-ordered","effect-fade";
                comic_image.setAttribute('loading','lazy');
                imgDiv.appendChild(comic_image);
                chapDiv12.appendChild(imgDiv);
                
            });
            
            chapDiv11.appendChild(chapDiv12);
            history.replaceState({}, null, `/comic/${slug}/${num_chapter}`);
            history.pushState({}, null, `/comic/${slug}/${num_chapter}`);
        }   

    </script>

    <script>
        function timeAgo(timestamp) {
            const now = new Date();
            const past = new Date(timestamp);
            const secondsAgo = Math.floor((now - past) / 1000);

            if (secondsAgo < 60) return `${secondsAgo} giây trước`;
            const minutesAgo = Math.floor(secondsAgo / 60);
            if (minutesAgo < 60) return `${minutesAgo} phút trước`;
            const hoursAgo = Math.floor(minutesAgo / 60);
            if (hoursAgo < 24) return `${hoursAgo} giờ trước`;
            const daysAgo = Math.floor(hoursAgo / 24);
            if (daysAgo < 30) return `${daysAgo} ngày trước`;
            const monthsAgo = Math.floor(daysAgo / 30);
            if (monthsAgo < 12) return `${monthsAgo} tháng trước`;
            const yearsAgo = Math.floor(daysAgo / 365);
            return `${yearsAgo} năm trước`;
        }
        async function fetchAndRenderData() {
            
            try {
                const response = await fetch("/api/home");
                const responseArray = await response.json();

                const fragment = document.createDocumentFragment();
            
                responseArray['ongoing'].forEach(item => {
                    if (item.chaptersLatest != null) {
                    const imageUrl = 'https://img.otruyenapi.com/uploads/comics/' + item.thumb_url;
                    const row = document.createElement("tr");
                    const subTd = document.createElement("td");
                    subTd.classList.add("thumb");
                    row.appendChild(subTd);
                    const subA = document.createElement("a");
                    subA.classList.add("btn-comic");
                    subA.setAttribute("data-slug",item.slug);
                    subA.innerHTML =`
                    <img loading="lazy" decoding="async" width="75" height="106" src="${imageUrl}" 
                       class="attachment-manga_wg_post_1 size-manga_wg_post_1 wp-post-image" alt="" />
                    `;
                    subA.addEventListener('click', function(event) {
                        event.preventDefault();
                        const slug = this.getAttribute('data-slug');
                        comic_detail(slug);
                        
                    });
                    subTd.appendChild(subA);

                    const subTd_1 = document.createElement("td");
                    subTd_1.classList.add("title");
                    row.appendChild(subTd_1);

                    const subA_1 = document.createElement("a");
                    subA_1.classList.add("btn-comic");
                    subA_1.setAttribute("data-slug",item.slug);
                    subA_1.textContent = `${item.name}`;
                    subA_1.addEventListener('click', function(event) {
                        event.preventDefault();
                        const slug = this.getAttribute('data-slug');
                        comic_detail(slug);
                    });
                    subTd_1.appendChild(subA_1);

                    const subTd_2 = document.createElement("td");
                    subTd_2.classList.add("release", "has-thumb", "free-chap");
                    row.appendChild(subTd_2);

                    const subA_2 = document.createElement("a");
                    subA_2.classList.add("btn-comic");
                    subA_2.setAttribute("data-slug",item.slug);
                    subA_2.textContent = `Chương ${item.chaptersLatest[0].chapter_name}`;
                    subA_2.addEventListener('click', function(event) {
                        event.preventDefault();
                        const slug = this.getAttribute('data-slug');
                        comic_chapter(item.chaptersLatest[0].chapter_name,slug,imageUrl,item.name);
                    });
                    subTd_2.appendChild(subA_2);

                    const subTd_3 = document.createElement("td");
                    subTd_3.classList.add("time");
                    subTd_3.innerHTML = `
                    <span style="font-weight: 900;">•</span>
                    <span class="post-on font-meta type">Truyện</span>
                    <span class="post-on font-meta">${timeAgo(item.updatedAt)}</span>
                    `;
                    row.appendChild(subTd_3);
                   
                    fragment.appendChild(row);
                    }
                });
                
                document.getElementById("row_recent").appendChild(fragment);
                
            } catch (error) {
                console.error("Error fetching data:", error);
            }
        }   

        fetchAndRenderData();
        async function genre() {
                try {
                    const response = await fetch("/api/genre");
                    const responseArray = await response.json();
                    
                    const fragment = document.createDocumentFragment();
                
                    responseArray['genre'].forEach(item => {
                        const row = document.createElement("li");
                        row.classList.add("col-xs-6", "col-sm-4", "col-md-3", "col-lg-2", "col-6");
                        row.innerHTML = `
                                <a href="#">
                                    ${item.name}
                                </a>
                        `;
                        fragment.appendChild(row);
                    });
                    
                    document.getElementById("genre").appendChild(fragment);

                } catch (error) {
                    console.error("Error fetching data:", error);
                }
            }   

            genre();
            async function loadContent(page) {
                try {
            
                const response = await fetch(`/api/paginate?page=${page}`);
                const data = await response.json();

            
                // console.log(data['page']);
                
                // Clear current content
            
                const contentPage = document.getElementById('numberPage');
                contentPage.innerHTML = '';
                const fragment = document.createDocumentFragment();
                const numberPage = document.createElement('ul');

                numberPage.classList.add('slick-dots');
                numberPage.innerHTML=`
                    <li class="slick-active" style="width: auto">${data['page']}</li>
                `;
                fragment.appendChild(numberPage);
                document.getElementById("numberPage").appendChild(fragment);
                data['ongoing'].forEach(item => {
                
                    
                    const imageUrl = 'https://img.otruyenapi.com/uploads/comics/' + item.thumb_url;
                    const row = document.createElement("tr");

                    const subTd = document.createElement("td");
                    subTd.classList.add("thumb");
                    row.appendChild(subTd);
                    const subA = document.createElement("a");
                    subA.classList.add("btn-comic");
                    subA.setAttribute("data-slug",item.slug);
                    subA.innerHTML =`
                    <img loading="lazy" decoding="async" width="75" height="106" src="${imageUrl}" 
                    class="attachment-manga_wg_post_1 size-manga_wg_post_1 wp-post-image" alt="" />
                    `;
                    subA.addEventListener('click', function(event) {
                        event.preventDefault();
                        const slug = this.getAttribute('data-slug');
                        comic_detail(slug);
                        
                    });
                    subTd.appendChild(subA);
                    const subTd_1 = document.createElement("td");
                    subTd_1.classList.add("title");
                    row.appendChild(subTd_1);
                    const subA_1 = document.createElement("a");
                    subA_1.classList.add("btn-comic");
                    subA_1.setAttribute("data-slug",item.slug);
                    subA_1.textContent = `${item.name}`;
                    subA_1.addEventListener('click', function(event) {
                        event.preventDefault();
                        const slug = this.getAttribute('data-slug');
                        comic_detail(slug);
                    });
                    subTd_1.appendChild(subA_1);
                    const subTd_2 = document.createElement("td");
                    subTd_2.classList.add("release", "has-thumb", "free-chap");
                    row.appendChild(subTd_2);
                    const subA_2 = document.createElement("a");
                    subA_2.classList.add("btn-comic");
                    subA_2.setAttribute("data-slug",item.slug);
                    subA_2.textContent = `Chương ${item.chaptersLatest[0].chapter_name}`;
                    subA_2.addEventListener('click', function(event) {
                        event.preventDefault();
                        const slug = this.getAttribute('data-slug');
                        comic_chapter(item.chaptersLatest[0].chapter_name,slug,imageUrl,item.name);
                    });
                    subTd_2.appendChild(subA_2);
                    const subTd_3 = document.createElement("td");
                    subTd_3.classList.add("time");
                    subTd_3.innerHTML = `
                    <span style="font-weight: 900;">•</span>
                    <span class="post-on font-meta type">Truyện</span>
                    <span class="post-on font-meta">${timeAgo(item.updatedAt)}</span>
                    `;
                    row.appendChild(subTd_3);
                    fragment.appendChild(row);
                    
                });
                
                document.getElementById("row_recent").appendChild(fragment);
                } catch (error) {
                console.error('Error loading content:', error);
                }
            }

            // Handle click events on links
            document.querySelectorAll('.btn-right').forEach(link => {
                link.addEventListener('click', function(event) {
                    event.preventDefault(); // Prevent full page reload
                    const contentDiv = document.getElementById('row_recent');
                    contentDiv.innerHTML = '';
                    
                    const page = this.getAttribute('data-page');
                    const btnLeft = document.querySelector('.btn-left');

                    // Lấy giá trị của 'data-page' và chuyển thành số nguyên
                    const pages = parseInt(btnLeft.setAttribute('data-page',page - 1));

                    let position = parseInt(this.getAttribute('data-page'));
                    position += 1;
                    this.setAttribute('data-page', position);
                    
                    loadContent(page);
                    
                });
            });
            document.querySelectorAll('.btn-left').forEach(link => {
                link.addEventListener('click', function(event) {
                    event.preventDefault(); // Prevent full page reload
                    const page = this.getAttribute('data-page');
                    if (page == 0) {
                        return false;
                    }
                    const btnRight = document.querySelector('.btn-right');
                
                    const pages = parseInt(btnRight.getAttribute('data-page'));
                    btnRight.setAttribute('data-page', pages - 1);

                    let position = parseInt(this.getAttribute('data-page'));

                    position -= 1;
                    this.setAttribute('data-page', position);
                    const contentDiv = document.getElementById('row_recent');
                    contentDiv.innerHTML = '';
                    
                    loadContent(page); // Load content via AJAX
                    
                });
            });
    </script>

</body>

</html>